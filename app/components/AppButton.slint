import {HorizontalBox, Palette} from "std-widgets.slint";

export component AppButton inherits Rectangle {
    in property <physical-length> button_height: 32px;
    in property <physical-length> button_width: 132px;
    in property <physical-length> button_radius: 6px;
    in property <brush> background_color: Palette.alternate-background.darker(0.25);
    in property <string> label;
    in property <brush> label_color: Palette.foreground;
    in property <physical-length> label_size: button_height / 2;
    in property <image> icon;
    in property <brush> icon_color: Palette.foreground;
    in property <physical-length> icon_size: 16px;

    callback clicked();

    height: button_height;
    width: button_width;
    border-radius: button_radius;
    background: background_color;

    HorizontalBox {
        alignment: center;
        VerticalLayout {
            alignment: center;
            Image {source: icon; width: icon_size; colorize: icon_color;}
        }
        VerticalLayout {
            alignment: center;
            Text {text: label; font-size: label_size; font-weight: 600; color: label_color;}
        }
    }

    states [
        pressed when touch.pressed: {
            root.background: Palette.foreground.with-alpha(0.7);
        }
        hover when touch.has-hover: {
            root.background: Palette.foreground.with-alpha(0.8);
        }
    ]

    touch := TouchArea {
        clicked => { root.clicked(); }
    }
}